pipeline {
    agent any
    stages {
        stage('Checkout') {
		    steps {
			    git credentialsId: '230790d6-1a2c-45a5-9da6-74b20d0c7b21', url: 'https://github.com/psp2003/student-exam2'
            }
        }
        stage('Launch tests') {
            steps {
                sh 'python3 -m venv venv'
                sh '. venv/bin/activate'
                sh 'pip install -e .'
		        sh 'export FLASK_APP=js_example'
                sh 'pip install -e .[test]'
                sh 'coverage run -m pytest'
                sh 'coverage report'
                sh 'deactivate'
            }
		}/*
        stage('Build Dockerimage') {
            steps {
                //some_commands
            }
        }
        stage('Auth to hub.docker.com') {
            steps {
                //some_commands
            }
        }
        stage('Pysh docker image') {
            steps {
                //some_commands
            }
        }*/
    }
}